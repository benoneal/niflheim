Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(e),{values:t}=Object,{max:i}=Math,u=function(n,r){return e.cloneElement(n,{className:o(n.props.className,r)})},o=function(...e){return e.filter(Boolean).join(" ")},a={previous:function(e,n){return Object.assign({},e,{previous:n})},leaving:function({leaving:e,...n},r,t,i){return Object.assign({},n,{leaving:Object.assign({},e,{[r]:{child:t,index:i}})})},left:function({leaving:e,...n},r){var{[r]:t,...i}=e;return Object.assign({},n,{leaving:i})},entering:function({entering:e,...n},r,t){if(t)return Object.assign({},n,{entering:Object.assign({},e,{[r]:t})});var{[r]:i,...u}=e;return Object.assign({},n,{entering:u})}},c=function(e,[n,...r]){return a[n](e,...r)},s=function(e,n){return Object.assign({},e,{[n.key]:n})},f=function(n,r){var u,o,a,c=e.Children.toArray(r),s=[],f=c.map((function({key:e}){return e})),l=c.length,d=0,v=t(n).reduce((function(e,{child:n,index:r}){if(f.includes(n.key))return e;var t=function(e,n){for(var r=-1,t=1;r<0;)r=e[n]?e[n+t++]?r:n+t:n;return r}(e,r+d);return l=i(t,l),d=t-r,Object.assign({},e,{[t]:n})}),{});return function(e,n){for(var r=-1;++r<=e;)n(r)}(l,(u=s,o=v,a=c,function(e){o[e]&&u.push(o[e]),a[e]&&u.push(a[e])})),s},l=function(n,r){return e.useCallback((function(...e){return r([n,...e])}),[])},d=function(n,r){return function(t,{duration:i=500,...u}){var[{previous:o,entering:a,leaving:s},d]=e.useReducer(c,{previous:t,entering:{},leaving:{}}),v=l("previous",d),g=l("entering",d),p=l("leaving",d),h=l("left",d);return t!==o&&(n({previous:o,children:t,setLeaving:p,setLeft:h,setEntering:g,duration:i}),v(t)),e.useMemo((function(e){return r({leaving:s,entering:a,children:f(s,t),options:u})}),[a,s,t])}},v=d((function({previous:n,children:r,setLeaving:t,setLeft:i,duration:u}){var o=e.Children.toArray(r).reduce(s,{});e.Children.toArray(n).forEach((function(e,n){o[e.key]||(t(e.key,e,n),setTimeout((function(){return i(e.key)}),u))}))}),(function({leaving:n,children:r,options:{reverse:t=!1,...i}}){return e.Children.map(r,(function(e){var r=(n[e.key]?"exiting":"entering")+(t?"_reverse":"");return u(e,i[r]||r)}))})),{values:g}=Object,p=d((function({previous:n,children:r,setLeaving:t,setLeft:i,setEntering:u,duration:o}){var a=e.Children.toArray(r).reduce(s,{});e.Children.toArray(n).forEach((function(e,n){a[e.key]?delete a[e.key]:(t(e.key,e,n),setTimeout((function(){return i(e.key)}),o))})),g(a).forEach((function({key:e}){u(e,!0),setTimeout((function(){return u(e)}),1)}))}),(function({leaving:n,entering:r,children:t,options:{reverse:i=!1,...o}}){return e.Children.map(t,(function(e){var t=["before_enter","after_exit"],a=n[e.key]?t.reverse()[+i]:r[e.key]?t[+i]:"entered";return u(e,o[a]||a)}))}));exports.Animated=function({As:e=r.default.Fragment,children:n,...t}){return r.default.createElement(e,null,v(n,t))},exports.Transitioned=function({As:e=r.default.Fragment,children:n,...t}){return r.default.createElement(e,null,p(n,t))},exports.useAnimated=v,exports.useTransitioned=p;
